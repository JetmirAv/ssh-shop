<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Socket.io</title>
  </head>
  <body>
    <h1>Express and socket.io</h1>
    <div id="news-list"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>

    <script>
      var ws = new WebSocket(
        "ws://0.0.0.0:3000/socket.io/?EIO=3&transport=websocket"
      );

      console.log({ ws });

      // Event handler for the WebSocket connection opening
      ws.onopen = (data) => {
        console.log({ data });

        ws.send("connected");
      };

      // Event handler for receiving text messages
      ws.onmessage = (data) => {
        console.log(data);
      };

      // Event handler for errors in the WebSocket object
      ws.onerror = (error) => {
        console.log(error);

        console.log("Error ");
      };

      // Listen for the close connection event
      ws.onclose = (reason) => {
        console.log({ reason });

        console.log("Disconnected: " + reason.reason);
      };

      ws.close();

      // for more Information: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_client_applications
    </script>
  </body>
</html>
